%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Lenguaje y caracteres
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[spanish]{babel} 
\spanishdecimal{.}
\usepackage[utf8]{inputenc} % Para poder usar los caracteres de utf8


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Configuraciones de formato
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\usepackage{times} % Letra Times New Roman
%\usepackage{mathptmx}
%\usepackage{fullpage} % Sets all 4 margins to be either 1 inch or 1.5 cm, and specifies the page style

\usepackage{vmargin}
%\setmargins{2.5cm}       % margen izquierdo      
\setmargins{2cm}      
{1cm}                    % margen superior
%{16cm}                   % anchura del texto
{17cm}                   % anchura del texto
{24cm}                   % altura del texto
{10pt}                   % altura de los encabezados
{1cm}                    % espacio entre el texto y los encabezados
{0pt}                    % altura del pie de página
{1.5cm}                    % espacio entre el texto y el pie de página

%\usepackage{indentfirst} % Primera linea del párrafo indentada
\usepackage{parskip} % Cambio de parrafo en pdf al saltarse una línea en el script
\setlength\parskip{1.2em plus 0.1em minus 0.2em}
\usepackage{etoolbox} % Para colocar encabezado y pie de página
\usepackage{fancyhdr} % Manejo de encabezado y pie de página
\usepackage{xcolor}
%\usepackage[table,xcdraw]{xcolor}

%\usepackage{fontspec}
%\setmainfont{Times New Roman}

\renewcommand{\textfraction}{0.1} % Mínima cantidad de texto que se pone en una página antes de comenzar una nueva

%\usepackage{titlesec} % Para modificar formato de títulos y subtítulos


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Configuraciones de referencias bibliográficas
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[backend=biber,style=ieee]{biblatex}
%\addbibresource{references.bib} % Import the bibliography file
\usepackage{csquotes}
\DeclareLanguageMapping{spanish}{spanish-apa}
\renewcommand*{\finalnamedelim}{\addspace\&\space} \makeatletter \DefineBibliographyExtras{spanish}{\restorecommand\lbx@finalnamedelim} \makeatother
\DefineBibliographyStrings{spanish}{%
    andothers = {et al.,},
}
\setlength\bibitemsep{\baselineskip}

%\usepackage{hanging} % Ayuda a hacer bibliografía sin bibtex


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Paquetes de figuras y tablas
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{float} % Para fijar las figuras en un lugar utilizando H
\usepackage{graphicx,graphics} % Para incluir gráficos
\usepackage[export]{adjustbox}
%\usepackage{subfig}

\usepackage{chngcntr}
\counterwithin{figure}{section}
\counterwithin{equation}{section}

\usepackage{caption}
\captionsetup{font=small} % Para dejar más pequeños los encabezados de figuras y tablas

\usepackage{subcaption} % Para varias figuras en un mismo caption
%\setcounter{totalnumber}{5} % Para aumentar el número máximo de tablas y/o figuras por página
%\usepackage{wrapfig} % Allows figures or tables to have text wrapped around them.

\newcommand{\rfigura}[1]{Fig.\ref{#1}} %% redefine las figuras
\newcommand{\rtabla}[1]{Tabla \ref{#1}} %% redefine las tablas

% Para numerar según sección
%\setcounter{figure}{0}
%\renewcommand{\thefigure}{\arabic{section}.\arabic{figure}}
%\setcounter{table}{0}
%\renewcommand{\thetable}{\arabic{section}.\arabic{table}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Paquetes de cosas matemáticas
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{amsmath} % Para hacer matrices de forma más sencilla
\usepackage{mathrsfs}
\usepackage{amsfonts} 
\usepackage{amssymb}
\usepackage{mathtools}
\usepackage{nicefrac}
\usepackage{multirow, array} % Para las tablas
\setcounter{MaxMatrixCols}{20}
\usepackage{bigints}
\usepackage{relsize}
\usepackage{rsfso}
\usepackage{marvosym}
\usepackage{textcomp}
\usepackage{gensymb}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Otros
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{multicol} % Para tener varias columnas
\usepackage{enumerate} % Para agregar enumeraciones bonitas

\usepackage{comment} % Para comentar partes del texto y que no se printeen
%\usepackage{blindtext} % For creating ‘blind’ text useful in testing new classes and packages

\usepackage[colorlinks = true,
            linkcolor = blue,
            urlcolor  = blue,
            citecolor = blue,
            anchorcolor = blue]{hyperref}
%\usepackage[hidelinks]{hyperref} % Para ocultar los cuadros alrededor de referencias
%\hypersetup{colorlinks=false,bookmarksopen=true,linkbordercolor={1 1 1}}
%\usepackage{url} % Para hacer vínculos

\usepackage{pdfpages} % Para añadir páginas de pdf
\usepackage{ifpdf}
\DeclareGraphicsExtensions{.pdf}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Tabla de contenidos
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\usepackage{imakeidx} % Más herramientas para modificar los índices
\setcounter{tocdepth}{2} % Para solo poner secciones en índice







%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Código
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\usepackage{minted} % Importar código de Python

\usepackage{listings}%Para incluir archivos de codigo
%\lstset{basicstyle=\footnotesize\ttfamily,breaklines=true}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}
\lstdefinestyle{python}
{
    style=shared,
    language={Python},
    %alsolanguage={[Sharp]C},
    basicstyle=\small\tt,
    keywordstyle=\color{blue},
    commentstyle=\color[rgb]{0.13,0.54,0.13},
    backgroundcolor=\color{cyan!10},
    morekeywords={
        Console,
        WriteLine,
        int,
    },
}
\lstset{style=mystyle}

\lstset{language=C++,
                basicstyle=\ttfamily,
                keywordstyle=\color{blue}\ttfamily,
                stringstyle=\color{red}\ttfamily,
                commentstyle=\color{green}\ttfamily,
                morecomment=[l][\color{magenta}]{\#}
}